(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{3766:function(e,t,a){Promise.resolve().then(a.bind(a,6278))},6278:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var r=a(7437),o=a(2265),s=a(9376),l=a(5035),n=a(3649),i=a(9365),c=a(9008),d=a(3067),u=a(5929),h=a(7226),g=a(9205);let m=(0,g.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var p=a(1239);let x=(0,g.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var w=a(2208),f=a(4362),y=a(713),b=a(5922);function v(){let e=(0,s.useRouter)(),{login:t,isAuthenticated:a,isLoading:g}=(0,f.a)(),{t:v,locale:C,setLocale:S}=(0,y.Q)(),{theme:N,setTheme:P}=(0,b.F)(),[k,L]=(0,o.useState)(""),[j,D]=(0,o.useState)(""),[E,T]=(0,o.useState)(!1),[M,O]=(0,o.useState)(""),[I,z]=(0,o.useState)(!1),[A,J]=(0,o.useState)(!1);(0,o.useEffect)(()=>{J(!0)},[]),(0,o.useEffect)(()=>{!g&&a&&e.replace("/dashboard")},[a,g,e]);let R=async a=>{if(a.preventDefault(),O(""),!k||!j){O(v("login.error.required"));return}z(!0);try{await t({username:k,password:j}),e.push("/dashboard")}catch(e){O(e.message||v("login.error.invalid"))}finally{z(!1)}};return A?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,r.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse"}),(0,r.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse"}),(0,r.jsx)("div",{className:"absolute top-1/3 right-1/4 w-60 h-60 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"})]}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[(0,r.jsx)(l.A,{isIconOnly:!0,variant:"flat",onClick:()=>{P("dark"===N?"light":"dark")},"aria-label":"Toggle theme",className:"bg-white/10 hover:bg-white/20",children:"dark"===N?(0,r.jsx)(u.Z,{size:18,className:"text-yellow-400"}):(0,r.jsx)(h.Z,{size:18,className:"text-gray-300"})}),(0,r.jsx)(l.A,{isIconOnly:!0,variant:"flat",onClick:()=>{S("zh"===C?"en":"zh")},"aria-label":"Toggle language",className:"bg-white/10 hover:bg-white/20",children:(0,r.jsx)(m,{size:18,className:"text-gray-300"})})]}),(0,r.jsxs)(n.w,{className:"w-full max-w-md bg-white/5 backdrop-blur-xl border border-white/10 shadow-2xl z-10",children:[(0,r.jsxs)(i.u,{className:"flex flex-col items-center gap-4 pt-10 pb-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-cyan-400 to-purple-500 flex items-center justify-center shadow-lg shadow-purple-500/30",children:(0,r.jsx)(p.Z,{size:36,className:"text-white"})}),(0,r.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-slate-900 animate-pulse"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent",children:"LittleCrawler"}),(0,r.jsx)("p",{className:"text-gray-400 mt-2 text-sm",children:v("login.subtitle")})]})]}),(0,r.jsxs)(c.G,{className:"px-8 py-6",children:[(0,r.jsxs)("form",{onSubmit:R,className:"flex flex-col gap-5",children:[(0,r.jsx)(d.Y,{label:v("common.username"),placeholder:v("login.placeholder.username"),value:k,onChange:e=>L(e.target.value),autoComplete:"username",classNames:{inputWrapper:"bg-white/5 border-white/10 hover:bg-white/10 group-data-[focused=true]:bg-white/10",label:"text-gray-400",input:"text-white placeholder:text-gray-500"}}),(0,r.jsx)(d.Y,{label:v("common.password"),placeholder:v("login.placeholder.password"),value:j,onChange:e=>D(e.target.value),type:E?"text":"password",autoComplete:"current-password",classNames:{inputWrapper:"bg-white/5 border-white/10 hover:bg-white/10 group-data-[focused=true]:bg-white/10",label:"text-gray-400",input:"text-white placeholder:text-gray-500"},endContent:(0,r.jsx)("button",{type:"button",onClick:()=>T(!E),className:"focus:outline-none",children:E?(0,r.jsx)(x,{className:"text-gray-400 hover:text-gray-300 transition-colors",size:18}):(0,r.jsx)(w.Z,{className:"text-gray-400 hover:text-gray-300 transition-colors",size:18})})}),M&&(0,r.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg px-4 py-2",children:(0,r.jsx)("p",{className:"text-red-400 text-sm text-center",children:M})}),(0,r.jsx)(l.A,{type:"submit",size:"lg",className:"mt-2 bg-gradient-to-r from-cyan-500 to-purple-500 text-white font-semibold shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50 transition-shadow",isLoading:I,children:v("common.login")})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)("p",{className:"text-gray-500 text-xs",children:"默认账号：admin / admin123"})})]})]}),(0,r.jsx)("p",{className:"mt-6 text-gray-500 text-sm z-10",children:"LittleCrawler v1.0 "})]}):null}},4362:function(e,t,a){"use strict";a.d(t,{H:function(){return n},a:function(){return i}});var r=a(7437),o=a(2265),s=a(1837);let l=(0,o.createContext)(void 0);function n(e){let{children:t}=e,[a,n]=(0,o.useState)(null),[i,c]=(0,o.useState)(null),[d,u]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=localStorage.getItem("token");e?(c(e),s.iJ.getCurrentUser(e).then(e=>{n(e)}).catch(()=>{localStorage.removeItem("token"),c(null)}).finally(()=>{u(!1)})):u(!1)},[]);let h=async e=>{let t=await s.iJ.login(e);c(t.access_token),n(t.user),localStorage.setItem("token",t.access_token)};return(0,r.jsx)(l.Provider,{value:{user:a,token:i,isAuthenticated:!!i&&!!a,isLoading:d,login:h,logout:()=>{i&&s.iJ.logout(i).catch(console.error),c(null),n(null),localStorage.removeItem("token")}},children:t})}function i(){let e=(0,o.useContext)(l);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},713:function(e,t,a){"use strict";a.d(t,{b:function(){return i},Q:function(){return c}});var r=a(7437),o=a(2265),s=JSON.parse('{"common":{"appName":"LittleCrawler","version":"v1.0.0","login":"登录","logout":"退出登录","username":"用户名","password":"密码","submit":"提交","cancel":"取消","save":"保存","delete":"删除","edit":"编辑","search":"搜索","loading":"加载中...","success":"成功","error":"错误","confirm":"确认","clear":"清空","download":"下载","export":"导出","refresh":"刷新","start":"启动","stop":"停止","status":"状态","actions":"操作","settings":"设置","theme":"主题","language":"语言","dark":"深色","light":"浅色","chinese":"中文","english":"English","running":"运行中","connected":"实时连接","disconnected":"连接断开","dataOverview":"数据概览","totalData":"总数据","todayData":"今日新增","viewAll":"查看全部","openLink":"打开链接","copyright":"LittleCrawler \xa9 2025 - 多平台社交媒体爬虫框架"},"nav":{"dashboard":"仪表盘","crawler":"爬虫管理","data":"数据管理","logs":"运行日志","settings":"系统设置"},"login":{"title":"欢迎使用 LittleCrawler","subtitle":"多平台社交媒体数据采集工具","placeholder":{"username":"请输入用户名","password":"请输入密码"},"error":{"required":"请输入用户名和密码","invalid":"用户名或密码错误"}},"dashboard":{"title":"系统概览","crawlerConfig":"爬虫配置","configDescription":"配置并启动爬虫任务","configDesc":"配置并启动爬虫任务","apiStatus":"API状态","healthy":"正常","unhealthy":"异常","platforms":"支持平台","currentUser":"当前用户","systemVersion":"系统版本","realtimeLogs":"实时日志","logsDesc":"查看爬虫运行状态","dataPreview":"数据预览","enableProxy":"代理","enableCdp":"CDP模式","advanced":"高级选项","dataStats":"数据统计","collectedData":"已采集的数据","latestData":"最新数据","latestRecords":"最近采集的10条记录"},"crawler":{"title":"爬虫配置","platform":"平台","crawlerType":"类型","loginType":"登录","keywords":"搜索关键词","keywordsPlaceholder":"多个用逗号分隔","startPage":"起始页码","maxPages":"最大页数","maxPagesPlaceholder":"留空为无限制","maxPagesDescription":"不填则爬取所有页面","maxPage":"最大页数","startCrawl":"开始爬取","stopCrawl":"停止爬取","enableProxy":"启用代理","cdpMode":"CDP 模式","types":{"search":"搜索","detail":"详情","creator":"创作者"},"loginTypes":{"qrcode":"扫码","phone":"手机","cookie":"Cookie"},"platforms":{"xhs":"小红书","zhihu":"知乎"},"status":{"idle":"空闲","running":"运行中","completed":"已完成","error":"出错"}},"data":{"title":"标题","saveFormat":"存储","fetchImages":"抓取图片","fetchComments":"抓取评论","fetchSubComments":"抓取子评论","headlessMode":"无头模式","dataList":"数据列表","noData":"暂无数据，启动爬虫开始采集","totalRecords":"共 {count} 条记录","records":"条记录","notes":"笔记","comments":"评论","author":"作者","type":"类型","likes":"点赞","exportJson":"导出 JSON","exportCsv":"导出 CSV","exportExcel":"导出 Excel","formats":{"csv":"CSV","json":"JSON","db":"MySQL","sqlite":"SQLite","mongodb":"MongoDB","excel":"Excel"},"columns":{"id":"ID","title":"标题","author":"作者","likes":"点赞","comments":"评论","createTime":"创建时间"}},"logs":{"title":"运行日志","displayCount":"显示条数","clearLogs":"清空日志","autoScroll":"自动滚动","connected":"已连接","disconnected":"已断开","reconnect":"重新连接","noLogs":"暂无日志","systemLog":"系统日志","entries":"条日志","waiting":"等待日志输出..."}}');let l={zh:s,en:JSON.parse('{"common":{"appName":"LittleCrawler","version":"v1.0.0","login":"Login","logout":"Logout","username":"Username","password":"Password","submit":"Submit","cancel":"Cancel","save":"Save","delete":"Delete","edit":"Edit","search":"Search","loading":"Loading...","success":"Success","error":"Error","confirm":"Confirm","clear":"Clear","download":"Download","export":"Export","refresh":"Refresh","start":"Start","stop":"Stop","status":"Status","actions":"Actions","settings":"Settings","theme":"Theme","language":"Language","dark":"Dark","light":"Light","chinese":"中文","english":"English","running":"Running","connected":"Connected","disconnected":"Disconnected","dataOverview":"Data Overview","totalData":"Total","todayData":"Today","viewAll":"View All","openLink":"Open Link","copyright":"LittleCrawler \xa9 2025 - Multi-platform Social Media Crawler"},"nav":{"dashboard":"Dashboard","crawler":"Crawler","data":"Data","logs":"Logs","settings":"Settings"},"login":{"title":"Welcome to LittleCrawler","subtitle":"Multi-platform Social Media Crawler","placeholder":{"username":"Enter username","password":"Enter password"},"error":{"required":"Please enter username and password","invalid":"Invalid username or password"}},"dashboard":{"title":"Overview","crawlerConfig":"Crawler Config","configDescription":"Configure and start crawler tasks","configDesc":"Configure and start crawler","apiStatus":"API Status","healthy":"Healthy","unhealthy":"Unhealthy","platforms":"Supported Platforms","currentUser":"Current User","systemVersion":"System Version","realtimeLogs":"Realtime Logs","logsDesc":"View crawler status","dataPreview":"Data Preview","enableProxy":"Proxy","enableCdp":"CDP Mode","advanced":"Advanced","dataStats":"Data Statistics","collectedData":"Collected data","latestData":"Latest Data","latestRecords":"Latest 10 records"},"crawler":{"title":"Crawler Settings","platform":"Platform","crawlerType":"Type","loginType":"Login","keywords":"Keywords","keywordsPlaceholder":"Separated by comma","startPage":"Start Page","maxPages":"Max Pages","maxPagesPlaceholder":"Empty for unlimited","maxPagesDescription":"Leave empty to crawl all pages","maxPage":"Max Pages","startCrawl":"Start Crawl","stopCrawl":"Stop Crawl","enableProxy":"Enable Proxy","cdpMode":"CDP Mode","types":{"search":"Search","detail":"Detail","creator":"Creator"},"loginTypes":{"qrcode":"QR Code","phone":"Phone","cookie":"Cookie"},"platforms":{"xhs":"Xiaohongshu","zhihu":"Zhihu"},"status":{"idle":"Idle","running":"Running","completed":"Completed","error":"Error"}},"data":{"title":"Title","saveFormat":"Storage","fetchImages":"Fetch Images","fetchComments":"Fetch Comments","fetchSubComments":"Fetch Sub-Comments","headlessMode":"Headless Mode","dataList":"Data List","noData":"No data yet, start crawler to collect","totalRecords":"{count} records","records":"records","notes":"Notes","comments":"Comments","author":"Author","type":"Type","likes":"Likes","exportJson":"Export JSON","exportCsv":"Export CSV","exportExcel":"Export Excel","formats":{"csv":"CSV","json":"JSON","db":"MySQL","sqlite":"SQLite","mongodb":"MongoDB","excel":"Excel"},"columns":{"id":"ID","title":"Title","author":"Author","likes":"Likes","comments":"Comments","createTime":"Created At"}},"logs":{"title":"Runtime Logs","displayCount":"Display Count","clearLogs":"Clear Logs","autoScroll":"Auto Scroll","connected":"Connected","disconnected":"Disconnected","reconnect":"Reconnect","noLogs":"No logs yet","systemLog":"System Log","entries":"entries","waiting":"Waiting for logs..."}}')},n=(0,o.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,o.useState)("zh"),[c,d]=(0,o.useState)(s);return(0,o.useEffect)(()=>{let e=localStorage.getItem("locale");e&&l[e]&&(i(e),d(l[e]))},[]),(0,r.jsx)(n.Provider,{value:{locale:a,messages:c,setLocale:e=>{i(e),d(l[e]),localStorage.setItem("locale",e)},t:(e,t)=>{var a,r;return r=null!==(a=e.split(".").reduce((e,t)=>null==e?void 0:e[t],c))&&void 0!==a?a:e,t?r.replace(/\{(\w+)\}/g,(e,a)=>{var r;return String(null!==(r=t[a])&&void 0!==r?r:"{".concat(a,"}"))}):r}},children:t})}function c(){let e=(0,o.useContext)(n);if(!e)throw Error("useI18n must be used within I18nProvider");return e}},1837:function(e,t,a){"use strict";a.d(t,{BQ:function(){return o},Bl:function(){return i},Z9:function(){return n},iJ:function(){return l}});let r=()=>window.location.origin,o=()=>{{let e="https:"===window.location.protocol?"wss:":"ws:";return"".concat(e,"//").concat(window.location.host)}};async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o={"Content-Type":"application/json",...t.headers};a&&(o.Authorization="Bearer ".concat(a));let s=await fetch("".concat(r()).concat(e),{...t,headers:o});if(!s.ok)throw Error((await s.json().catch(()=>({detail:"Unknown error"}))).detail||"HTTP ".concat(s.status));return s.json()}let l={login:e=>s("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),getCurrentUser:e=>s("/api/auth/me",{},e),logout:e=>s("/api/auth/logout",{method:"POST"},e)},n={getStatus:e=>s("/api/crawler/status",{},e),start:(e,t)=>s("/api/crawler/start",{method:"POST",body:JSON.stringify(t)},e),stop:e=>s("/api/crawler/stop",{method:"POST"},e),getPlatforms:e=>s("/api/crawler/platforms",{},e)},i={getFiles:(e,t,a)=>{let r=new URLSearchParams;t&&r.append("platform",t),a&&r.append("file_type",a);let o=r.toString();return s("/api/data/files".concat(o?"?".concat(o):""),{},e)},getFileContent:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return s("/api/data/files/".concat(encodeURIComponent(t),"?preview=true&limit=").concat(a),{},e)},export:(e,t,a)=>fetch("".concat(r(),"/api/data/").concat(t,"/export?format=").concat(a),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.blob()),delete:(e,t,a)=>s("/api/data/".concat(t,"/").concat(a),{method:"DELETE"},e)}}},function(e){e.O(0,[69,724,401,971,117,744],function(){return e(e.s=3766)}),_N_E=e.O()}]);